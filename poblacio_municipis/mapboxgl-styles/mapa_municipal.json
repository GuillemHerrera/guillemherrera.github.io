{
  "version": 8,
  "name": "Mapa Municipal",
  "metadata": {
    "mapbox:autocomposite": true
  },
  "center":  [-1.7, 41.4],
  "zoom": 5,
  "bearing": 0,
  "pitch": 0,
  "sources": {
    "municipis": {
      "type": "vector",
      "tiles": [
        "https://guillemherrera.github.io/poblacio_municipis/cat_munis_tiles/{z}/{x}/{y}.pbf"
      ],
      "attribution": "Base Municipal &copy; <a href='http://centrodedescargas.cnig.es/CentroDescargas/index.jsp'>Instituto Geogr√°fico Nacional</a>",
      "maxzoom": 8
    }
  },
  "glyphs": "https://betaserver.icgc.cat/glyphs/{fontstack}/{range}.pbf",
  "layers": [
    {
      "id": "background",
      "type": "background",
      "paint": {
        "background-color": "rgb(16, 16, 16)"
      }
    },
    {
      "id": "1857",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1857",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1860",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1860",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1877",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1877",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1887",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1887",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1900",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1900",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1910",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1910",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1920",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1920",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1930",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1930",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1936",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1936",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1940",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1940",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1945",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1945",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1950",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1950",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1955",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1955",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1960",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1960",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1965",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1965",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },{
      "id": "1970",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1970",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1975",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1975",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    {
      "id": "1981",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1981",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },     
    {
      "id": "1986",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
      	"fill-opacity": 0,
      	"fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1986",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1990",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
        "fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1990",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "1995",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
        "fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "1995",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "2000",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
        "fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "2000",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "2005",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
        "fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "2005",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "2010",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
        "fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "2010",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "2015",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
        "fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "2015",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },

    {
      "id": "2018",
      "type": "fill",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      "paint": {
        "fill-opacity": 0,
        "fill-opacity-transition": {"duration":1001},
        "fill-color": {
          "property": "2018",
          "type": "interval",
          "stops": [
            [0, "#B0B0B0"],
            [1, "#ffffcc"],
            [500, "#ffffcc"],
            [1000, "#ffeda0"],
            [5000, "#fed976"],
            [10000, "#feb24c"],
            [20000, "#fd8d3c"],
            [50000, "#fc4e2a"],
            [100000, "#e31a1c"],
            [200000, "#b10026"]
          ]
        }
      },
      "filter": ["==", "$type", "Polygon"]
    },
    
    {
      "id": "cat_munis_label",
      "type": "symbol",
      "source": "municipis",
      "source-layer": "pob_municipis_INE_4326",
      
      "minzoom": 8,
      "filter": [
        "all"
      ],
      "paint": {
        "text-color": "#000",
        "text-halo-color": "#FFF",
        "text-halo-width": 1
       },
      "layout": {
        "text-font": ["Open Sans Bold"],
        "text-field": "{nom_muni}",
        "text-allow-overlap": false,
        "text-padding": 10,
        "text-size": 12
      }
    }
    
  ]
}
